#!/bin/bash

. $HOME/.bin/colr
SEP="    "
SEP2="  "
Clock() {
	echo "$(date +"%a, %d %b %Y %H:%M")"
}

WS() {
	switcher=""
	for desktop in $(bspc query -D); do
		if [[ $desktop = $(bspc query -D -d) ]]; then
			switcher="$switcher%{F#$red}$SEP2  $SEP2%{F-}"
		elif [[ $(bspc query -N -d $desktop | wc -l) -gt 0 ]]; then
			switcher="$switcher%{A:bspc desktop -f $desktop:}$SEP2  $SEP2%{A}"
		else
			switcher="$switcher%{A:bspc desktop -f $desktop:}$SEP2  $SEP2%{A}"
		fi
	done
	echo "$switcher"
}

VPN() { 
	if [[ $(systemctl status openvpn@US_Midwest | grep " active") == "" ]]; then
		echo "%{F#$red}vpn off%{F-}"
	else
		echo "%{F#$grn}vpn on%{F-}"
	fi
}


echo "%{l}$(status)%{r}$(mu)$SEP2|$SEP2$(VPN)$SEP2|$SEP2$(Clock)$SEP2"
